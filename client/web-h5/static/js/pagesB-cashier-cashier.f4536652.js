(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesB-cashier-cashier"],{1354:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("c5f6");var a={name:"load-more",props:{loadingType:{type:Number,default:0},showImage:{type:Boolean,default:!0},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}}},data:function(){return{}}};t.default=a},2476:function(e,t,i){"use strict";i.r(t);var a=i("3ba7"),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,function(){return a[e]})}(o);t["default"]=n.a},"357f":function(e,t,i){"use strict";var a=i("8af7"),n=i.n(a);n.a},"3ba7":function(e,t,i){"use strict";var a=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("0a0d")),o=a(i("f499")),r=a(i("c997")),d=a(i("c307")),c=a(i("d148")),s=a(i("7492")),l=new r.default,u=null,f={data:function(){return{loadingType:0,page:10,qrCode:"",qiniu:"",mchName:"",headImg:"",mchId:"",record:"",merchant_name:"",change:!1}},components:{uniLoadMore:s.default},onReachBottom:function(){if(0===this.loadingType){this.loadingType=1;var e=this;this.loadingType&&(e.page=e.page+10),l.submit({request:{s:["MERCHANTCASHIERSELFORDERLIST",[{merchant_id:e.mchId,size:e.page}]]},callback:function(t){var i=c.default.checkError(t,["s"],function(e,t){uni.showToast({title:t,icon:"none"})});console.log("more",i),i.s&&i.s.data?(e.record=i.s.data,i.s.row_count<e.page?e.loadingType=2:e.loadingType=0):e.loadingType=2},error:function(e){c.default.err("err",e,1)}})}},onShow:function(){console.log("收银员页面，我进来了：：：：：",d.default.prototype.cashierOrderListRefresh);var e=this;d.default.prototype.cashierOrderListRefresh=!1,e.getUserInfo(),u||clearInterval(u),u=setInterval(function(){d.default.prototype.cashierOrderListRefresh&&(uni.showToast({title:"数据有更新，刷新中...",icon:"none"}),console.log("收银员订单页面需要刷新！",d.default.prototype.cashierOrderListRefresh),d.default.prototype.cashierOrderListRefresh=!1,e.getOrderList())},10)},methods:{getQrCode:function(){console.log("获取二维码");var e=this;l.left_token(function(t){var i=l.api_server_url+"?"+encodeURI("data="+(0,o.default)([["MERCHANTCASHIERSELFQRCODEMONEYPLUS",[{merchant_id:e.mchId}]]]))+"&token="+t+"&time="+(0,n.default)();e.qrCode=i,console.log("二维码：",i)}),e.getOrderList()},getOrderList:function(){console.log("getOrderList::::------\x3e获取收银订单列表");var e=this;l.submit({request:{list:["MERCHANTCASHIERSELFORDERLIST",[{merchant_id:e.mchId}]]},callback:function(t){var i=c.default.checkError(t,["list"],function(e,t){uni.showToast({title:t,icon:"none"})});console.log(i),i.list&&i.list.data&&(e.record=i.list.data)}})},getUserInfo:function(){var e=this;l.submit({request:{config:["APPLICATIONCONFIG"],cashier:["MERCHANTCASHIERSELF"]},callback:function(t){var i=c.default.checkError(t,["config","cashier"],function(e,t){uni.showToast({title:t,icon:"none"})});console.log(i),i.config&&i.config.qiniu_domain&&(e.qiniu=i.config.qiniu_domain),i.cashier&&i.cashier.merchant_id&&(e.mchId=i.cashier.merchant_id,console.log("商家ID有更新：",e.mchId),e.getQrCode()),i.cashier&&i.cashier.merchant_cashier_name&&(e.mchName=i.cashier.merchant_cashier_name,e.headImg=e.qiniu+i.cashier.merchant_logo),i.cashier&&i.cashier.merchant_name&&(e.merchant_name=i.cashier.merchant_name)}})}}};t.default=f},"46ee":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".content[data-v-0743de6e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin:15px %?10?% 0 %?10?%}.merchantName[data-v-0743de6e]{\r\n\t/* display: block;\n\t\tflex-direction: row;\n\t\tflex: 1; */text-align:center;font-size:16px;margin-bottom:%?15?%}.mchImage[data-v-0743de6e]{width:100%;height:%?120?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-top:%?25?%;margin-bottom:%?25?%}.mchImage uni-image[data-v-0743de6e]{width:%?120?%;height:%?120?%;border-radius:50%;margin:auto}.merchantHead[data-v-0743de6e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:%?40?%}.merchantHead>uni-view[data-v-0743de6e]{width:50px;height:20px}.merchantHead>uni-view>uni-image[data-v-0743de6e]{width:50px;height:50px}.qRcode[data-v-0743de6e]{width:150px;height:150px}.footer[data-v-0743de6e]{height:70px;margin:5px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:%?28?%;line-height:%?60?%;border-bottom:%?1?% #e1e1e1 solid;color:#444}.footer uni-image[data-v-0743de6e]{width:%?80?%;height:%?80?%;border-radius:50%;margin-top:%?30?%;margin-right:%?20?%}.footerInfo1[data-v-0743de6e]{width:30%;margin-top:%?10?%;margin-left:3%}.footerInfo1 uni-view[data-v-0743de6e]{width:100%;height:35px;overflow:hidden}.footerInfo2[data-v-0743de6e]{width:50%;margin-top:%?10?%;text-align:right}.footerInfo2 uni-view[data-v-0743de6e]{width:100%;height:35px}",""])},"6d46":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"merchantName"},[i("v-uni-text",[e._v(e._s(e.merchant_name))])],1),i("v-uni-view",{staticClass:"mchImage"},[i("v-uni-image",{attrs:{src:e.headImg,mode:"aspectFit"}})],1),i("v-uni-view",{staticClass:"merchantHead"},[i("v-uni-view",{}),i("v-uni-image",{staticClass:"qRcode",attrs:{src:e.qrCode}}),i("v-uni-view",{})],1),i("v-uni-view",{staticClass:"merchantName"},[i("v-uni-text",{staticStyle:{color:"#666666"}},[e._v("收银员姓名:"+e._s(e.mchName))])],1),e._l(e.record,function(t,a){return[i("v-uni-view",{key:a+"_0",staticClass:"footer"},[i("v-uni-image",{attrs:{src:e.qiniu+t.user_logo,mode:""}}),i("v-uni-view",{staticClass:"footerInfo1"},[i("v-uni-view",[e._v(e._s(t.nickname))]),i("v-uni-view",{staticStyle:{color:"#E44545"}},[e._v("￥"+e._s(t.value/100))])],1),i("v-uni-view",{staticClass:"footerInfo2"},[i("v-uni-view",[e._v(e._s(t.phone))]),i("v-uni-view",[e._v(e._s(t.pay_time))])],1)],1)]})],2),i("uni-load-more",{attrs:{loadingType:e.loadingType}},[e._v("下拉显示更多")])],1)},n=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return n})},7492:function(e,t,i){"use strict";i.r(t);var a=i("da0b"),n=i("acea");for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);i("357f");var r=i("2877"),d=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"14cbf4b0",null);t["default"]=d.exports},"8af7":function(e,t,i){var a=i("ef63");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("d28d5d98",a,!0,{sourceMap:!1,shadowMode:!1})},acea:function(e,t,i){"use strict";i.r(t);var a=i("1354"),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,function(){return a[e]})}(o);t["default"]=n.a},b1ae:function(e,t,i){"use strict";var a=i("dc24"),n=i.n(a);n.a},c307:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){};a.prototype={constructor:a,cashierOrderListRefresh:!1};var n=a;t.default=n},cc91:function(e,t,i){"use strict";i.r(t);var a=i("6d46"),n=i("2476");for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);i("b1ae");var r=i("2877"),d=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"0743de6e",null);t["default"]=d.exports},da0b:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"load-more"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===e.loadingType&&e.showImage,expression:"loadingType === 1 && showImage"}],staticClass:"loading-img"},[i("v-uni-view",{staticClass:"load1"},[i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}})],1),i("v-uni-view",{staticClass:"load2"},[i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}})],1),i("v-uni-view",{staticClass:"load3"},[i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}})],1)],1),i("v-uni-text",{staticClass:"loading-text",style:{color:e.color}},[e._v(e._s(0===e.loadingType?e.contentText.contentdown:1===e.loadingType?e.contentText.contentrefresh:e.contentText.contentnomore))])],1)},n=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return n})},dc24:function(e,t,i){var a=i("46ee");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("555c30d0",a,!0,{sourceMap:!1,shadowMode:!1})},ef63:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".load-more[data-v-14cbf4b0]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.loading-img[data-v-14cbf4b0]{height:24px;width:24px;margin-right:10px}.loading-text[data-v-14cbf4b0]{font-size:%?28?%;color:#777}.loading-img>uni-view[data-v-14cbf4b0]{position:absolute}.load1[data-v-14cbf4b0],.load2[data-v-14cbf4b0],.load3[data-v-14cbf4b0]{height:24px;width:24px}.load2[data-v-14cbf4b0]{-webkit-transform:rotate(30deg);-ms-transform:rotate(30deg);transform:rotate(30deg)}.load3[data-v-14cbf4b0]{-webkit-transform:rotate(60deg);-ms-transform:rotate(60deg);transform:rotate(60deg)}.loading-img>uni-view uni-view[data-v-14cbf4b0]{width:6px;height:2px;border-top-left-radius:1px;border-bottom-left-radius:1px;background:#777;position:absolute;opacity:.2;-webkit-transform-origin:50%;-ms-transform-origin:50%;transform-origin:50%;-webkit-animation:load-data-v-14cbf4b0 1.56s ease infinite}.loading-img>uni-view uni-view[data-v-14cbf4b0]:first-child{-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);top:2px;left:9px}.loading-img>uni-view uni-view[data-v-14cbf4b0]:nth-child(2){-webkit-transform:rotate(180deg);top:11px;right:0}.loading-img>uni-view uni-view[data-v-14cbf4b0]:nth-child(3){-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg);bottom:2px;left:9px}.loading-img>uni-view uni-view[data-v-14cbf4b0]:nth-child(4){top:11px;left:0}.load1 uni-view[data-v-14cbf4b0]:first-child{-webkit-animation-delay:0s;animation-delay:0s}.load2 uni-view[data-v-14cbf4b0]:first-child{-webkit-animation-delay:.13s;animation-delay:.13s}.load3 uni-view[data-v-14cbf4b0]:first-child{-webkit-animation-delay:.26s;animation-delay:.26s}.load1 uni-view[data-v-14cbf4b0]:nth-child(2){-webkit-animation-delay:.39s;animation-delay:.39s}.load2 uni-view[data-v-14cbf4b0]:nth-child(2){-webkit-animation-delay:.52s;animation-delay:.52s}.load3 uni-view[data-v-14cbf4b0]:nth-child(2){-webkit-animation-delay:.65s;animation-delay:.65s}.load1 uni-view[data-v-14cbf4b0]:nth-child(3){-webkit-animation-delay:.78s;animation-delay:.78s}.load2 uni-view[data-v-14cbf4b0]:nth-child(3){-webkit-animation-delay:.91s;animation-delay:.91s}.load3 uni-view[data-v-14cbf4b0]:nth-child(3){-webkit-animation-delay:1.04s;animation-delay:1.04s}.load1 uni-view[data-v-14cbf4b0]:nth-child(4){-webkit-animation-delay:1.17s;animation-delay:1.17s}.load2 uni-view[data-v-14cbf4b0]:nth-child(4){-webkit-animation-delay:1.3s;animation-delay:1.3s}.load3 uni-view[data-v-14cbf4b0]:nth-child(4){-webkit-animation-delay:1.43s;animation-delay:1.43s}@-webkit-keyframes load-data-v-14cbf4b0{0%{opacity:1}to{opacity:.2}}",""])}}]);