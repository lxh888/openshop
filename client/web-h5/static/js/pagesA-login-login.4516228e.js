(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-login-login"],{"1b7b":function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-uni-view",[o("v-uni-view",{staticClass:"top"},[o("v-uni-text",{staticClass:"topTitle"},[e._v("请输入您的手机号,登录你的账号")])],1),o("v-uni-view",{staticClass:"phoneNumber"},[o("v-uni-view",{staticClass:"phoneNumberTitle"},[o("v-uni-text",[e._v("+86")])],1),o("v-uni-input",{staticClass:"username",attrs:{type:"text",value:e.phones,name:"phone",placeholder:"请输入手机号","placeholder-style":"font-size:26upx"},on:{input:function(t){t=e.$handleEvent(t),e.onKeyInput(t)}}})],1),o("v-uni-view",{staticClass:"section"},[o("v-uni-input",{staticClass:"password",attrs:{name:"password",password:"true",maxlength:"32",placeholder:"请输入密码","placeholder-style":"font-size:26upx"},on:{input:function(t){t=e.$handleEvent(t),e.onKeyPassword(t)}}}),o("v-uni-view",{staticClass:"eyesBox",on:{click:function(t){t=e.$handleEvent(t),e.eyes(t)}}},[o("v-uni-image",{staticClass:"eyes",attrs:{src:"http://rs.eonfox.cc/clzy/static/eyes.png",mode:""}})],1)],1),e.verifyCode.isNeed?o("v-uni-view",{staticClass:"section_verify"},[o("v-uni-input",{staticClass:"verifyCodeText",attrs:{type:"text",maxlength:"6",placeholder:"请输入验证码","placeholder-style":"font-size:26upx"},model:{value:e.verifyCode.code,callback:function(t){e.$set(e.verifyCode,"code",t)},expression:"verifyCode.code"}}),o("v-uni-image",{staticClass:"verifyCodeImg",attrs:{src:e.verifyCode.codeImg},on:{click:function(t){t=e.$handleEvent(t),e.getVerifyImage()}}})],1):e._e(),o("v-uni-view",{staticClass:"active"},[o("v-uni-button",{staticClass:"activeBtn",attrs:{type:"primary"},on:{click:function(t){t=e.$handleEvent(t),e.next(t)}}},[e._v("开始")])],1),o("v-uni-view",{staticClass:"agreement"},[o("span",{staticClass:"spantext",on:{click:function(t){t=e.$handleEvent(t),e.goto_register(t)}}},[e._v("忘记密码")])])],1)},n=[];o.d(t,"a",function(){return i}),o.d(t,"b",function(){return n})},"908e":function(e,t,o){"use strict";var i=o("e517"),n=o.n(i);n.a},"994d":function(e,t,o){"use strict";o.r(t);var i=o("1b7b"),n=o("d754");for(var a in n)"default"!==a&&function(e){o.d(t,e,function(){return n[e]})}(a);o("908e");var s=o("2877"),r=Object(s["a"])(n["default"],i["a"],i["b"],!1,null,"9fae3ee6",null);t["default"]=r.exports},"9b66":function(e,t,o){t=e.exports=o("2350")(!1),t.push([e.i,".top[data-v-9fae3ee6]{height:%?100?%;margin-left:%?40?%}.top .topTitle[data-v-9fae3ee6]{line-height:%?100?%;font-size:%?26?%;font-weight:550}.phoneNumber[data-v-9fae3ee6]{width:90%;height:%?80?%;margin:%?20?% auto;background:#f2f2f2;border-radius:%?10?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.phoneNumber .phoneNumberTitle[data-v-9fae3ee6]{width:%?130?%;text-align:center;font-size:%?28?%}.section[data-v-9fae3ee6]{width:90%;margin:%?20?% auto;padding:%?18?% 0;background:#f2f2f2;border-radius:%?10?%;position:relative;top:5px}.section .eyesBox[data-v-9fae3ee6]{position:absolute;right:%?10?%;top:%?25?%;height:100%;width:%?60?%}.section .eyesBox .eyes[data-v-9fae3ee6]{width:%?40?%;height:%?40?%;position:absolute;right:%?10?%;top:%?2?%}.active[data-v-9fae3ee6]{width:90%;height:%?100?%;margin:50px auto}.active .activeBtn[data-v-9fae3ee6]{width:100%;background:#f76968;color:#fff}.agreement[data-v-9fae3ee6]{width:20%;margin:0 auto;float:right}.agreement .radio[data-v-9fae3ee6]{color:#101010;font-size:12px}.spantext[data-v-9fae3ee6]{color:#66beff;font-size:12px}.section_verify[data-v-9fae3ee6]{width:90%;height:65px;margin:%?20?% auto;padding:%?18?% 0;background:#f2f2f2;border-radius:%?10?%;position:relative;top:5px}.section_verify .verifyCodeText[data-v-9fae3ee6]{width:90px;float:left;background:#f2f2f2;height:54px}.section_verify .verifyCodeImg[data-v-9fae3ee6]{width:50%;height:60px;float:right}",""])},d754:function(e,t,o){"use strict";o.r(t);var i=o("e6a1"),n=o.n(i);for(var a in i)"default"!==a&&function(e){o.d(t,e,function(){return i[e]})}(a);t["default"]=n.a},e517:function(e,t,o){var i=o("9b66");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=o("4f06").default;n("2a257c0d",i,!0,{sourceMap:!1,shadowMode:!1})},e6a1:function(e,t,o){"use strict";var i=o("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(o("f499")),a=i(o("6d58")),s=i(o("c997")),r=i(o("d148")),c=new s.default,u={data:function(){return{phone:"",password:"",phones:"",verifyCodeImage:"",verifyCode:{isNeed:!1,codeImg:"",code:""},oauthid:""}},onLoad:function(e){this.getStroges(),this.phones=e.phone,this.phone=e.phone,null!=this.phone&&this.isVerify(this.phone)},methods:{getStroges:function(){try{var e=uni.getStorageSync("oauth_id");e&&(console.log(e),this.oauthid=e)}catch(t){console.log(t)}},onKeyInput:function(e){this.phone=e.target.value,/^1[0-9]\d{9}$/.test(this.phone)&&this.isVerify(this.phone)},onKeyPassword:function(e){this.password=e.target.value},next:function(){var e=this,t=this.phone,o=this.password;if(/^1\d{10}$/.test(t))if(o.length<8||o.length>24)uni.showToast({title:"密码长度为8~24个字符",icon:"none"});else{if(e.isVerify(),1==e.verifyCode.isNeed)var i={phone:e.phone,password:e.password,image_verify_code:e.verifyCode.code,image_verify_key:"user/log_in"};else i={phone:e.phone,password:e.password};c.submit({request:{s:["USERLOGIN",[i]]},callback:function(t){var o=t.data.s;o.errno?(e.verifyCode.isNeed&&e.getVerifyImage(),uni.showToast({title:o.error,icon:"none"})):uni.showToast({title:"登录成功",icon:"success",success:function(){c.submit({request:{u:["USERSELF",[{oauth_id:e.oauthid}]],p:["USERPHONESELFVERIFY"]},callback:function(e){console.log(e),uni.setStorage({key:"userinfo",data:e})}}),e.bind(),setTimeout(function(){uni.switchTab({url:"../../pages/me/me"})},1500)}}),console.log(t)},error:function(e){console.log("出错啦",e),uni.showToast({title:(0,n.default)(e),icon:"none"})}})}else uni.showToast({title:"手机号有误",icon:"none"})},goto_register:function(){uni.navigateTo({url:"../../pagesA/forget-password/forget-password"})},isVerify:function(e){console.log("检测是否需要验证码");var t=this,o=new s.default;o.submit({request:{s:["USERLOGINIMAGEVERIFYCODESTATE",[{phone:t.phone}]]},callback:function(e){if(console.log("检测结果：",e),e.errno)console.log("出错啦",e),uni.showToast({title:e.data.error,icon:"none"});else{if(console.log("验证码s：",e.data.s),!e.data.s.data)return;console.log("验证码需要：",e.data.s),t.verifyCode.isNeed=!0,t.getVerifyImage()}},error:function(){console.log("出错啦",err),uni.showToast({title:"出错啦",icon:"none"})}})},getVerifyImage:function(){var e=this,t=new s.default;t.left_token(function(o){var i=t.api_server_url+"?"+encodeURI('data=[["SESSIONIMAGEVERIFYCODESHOW",[{"image_verify_key":"user/log_in","bg_color_rand":0,"bg_color":[242,242,242],"length":5,"width":200,"height":44}]]]')+"&token="+o;e.verifyCode.codeImg=i})},bind:function(){var e=this;console.log("oauth"),uni.getStorage({key:"oauth",success:function(t){t.data&&e.bind_()}})},bind_:function(){console.log("bind")}},components:{uniIcon:a.default,eonfox:s.default,fns:r.default}};t.default=u}}]);