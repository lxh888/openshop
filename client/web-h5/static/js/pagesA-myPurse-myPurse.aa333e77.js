(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-myPurse-myPurse"],{2240:function(t,i,e){var n=e("4237");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("2f94581a",n,!0,{sourceMap:!1,shadowMode:!1})},4237:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".conten[data-v-7e5287b3]{width:100%;height:100%}.conten-top[data-v-7e5287b3]{width:100%;height:%?250?%;background-color:#ff5252;padding-top:%?80?%;color:#fff}.conten-top-text[data-v-7e5287b3]{width:100%;height:%?50?%;text-align:center;font-size:%?32?%;margin-top:%?30?%}.conten-top-text uni-text[data-v-7e5287b3]{font-size:%?32?%;color:#fff}.conten-top-title[data-v-7e5287b3]{width:100%;height:%?50?%;text-align:center}.conten-top-title uni-text[data-v-7e5287b3]{font-size:%?56?%;color:#fff}.detail[data-v-7e5287b3]{float:left;width:100%;height:%?100?%;border-bottom:1px solid #dedbdb;line-height:%?100?%;padding-left:%?20?%;font-size:%?32?%}.withdrawDeposit[data-v-7e5287b3]{width:100%;height:%?300?%;font-size:%?28?%;float:left}.withdrawDeposit-title[data-v-7e5287b3]{width:90%;color:#666;margin-left:10%;line-height:%?100?%;height:%?100?%}.withdrawDeposit-box[data-v-7e5287b3]{width:90%;height:%?70?%;background-color:#e8e8e8;margin-left:10%;margin-top:%?10?%;line-height:%?70?%}.withdrawDeposit-text[data-v-7e5287b3]{width:100%;height:%?70?%;text-align:center;line-height:%?70?%;margin-top:%?30?%}.payw[data-v-7e5287b3]{float:left;width:100%;height:%?100?%;border:1px #dedbdb solid;line-height:%?100?%;font-size:%?28?%;padding-left:%?30?%}.pay[data-v-7e5287b3]{float:left;width:100%;height:%?100?%;border-bottom:1px #dedbdb solid;line-height:%?100?%;font-size:%?28?%;padding-left:%?30?%;margin-bottom:%?80?%}.abposin[data-v-7e5287b3]{position:absolute;width:%?40?%;height:%?40?%;margin-left:%?15?%;font-size:%?48?%;margin-top:%?8?%}uni-image[data-v-7e5287b3]{width:%?48?%;height:%?48?%;margin:%?20?% %?20?%;float:left}.txt[data-v-7e5287b3]{width:%?510?%;height:%?100?%;line-height:%?100?%;float:left}.radio[data-v-7e5287b3]{float:right;padding-right:%?50?%}.confirm-btn[data-v-7e5287b3]{width:95%;height:55px;color:#fff;margin-left:2.5%;background-color:#f8a0a0;border-radius:4px}\n\t/* 弹出框样式 */.BopBox[data-v-7e5287b3]{width:100%;height:%?400?%;position:absolute;background-color:#fff}.BopBox-title[data-v-7e5287b3]{width:100%;height:%?60?%;font-size:%?32?%;text-align:center}.informationBox[data-v-7e5287b3]{width:100%;padding:%?5?%;height:%?80?%;line-height:%?80?%;border-bottom:#eee 1px solid;font-size:%?28?%}.infor-title[data-v-7e5287b3]{float:left;width:25%;height:%?80?%;text-align:right}.infor-input[data-v-7e5287b3]{padding-left:%?10?%;width:70%;height:%?50?%;float:left}.infor-input uni-input[data-v-7e5287b3]{width:100%;float:left;height:%?80?%;line-height:%?80?%}.affirmBut[data-v-7e5287b3]{width:95%;height:%?60?%;margin-top:%?80?%;margin-left:2.5%}.detailedRight[data-v-7e5287b3]{width:44px;position:relative;right:10px;top:5px;float:right;text-align:right}.detailedRightImg[data-v-7e5287b3]{width:20px;height:20px}",""])},"582d":function(t,i,e){"use strict";var n=e("2240"),a=e.n(n);a.a},"9d1c":function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"conten"},[e("v-uni-view",{staticClass:"conten-top"},[e("v-uni-view",{staticClass:"conten-top-title"},[e("v-uni-text",[t._v(t._s(t.money/100))])],1),e("v-uni-view",{staticClass:"conten-top-text"},[e("v-uni-text",[t._v("可提现金额")])],1)],1),e("v-uni-view",{staticClass:"detail",on:{click:function(i){i=t.$handleEvent(i),t.goDetail(i)}}},[e("v-uni-text",[t._v("提现明细")]),e("v-uni-view",{staticClass:"detailedRight"},[e("v-uni-image",{staticClass:"detailedRightImg",attrs:{src:"http://rs.eonfox.cc/clzy/static/Arrow_right02.png"}})],1)],1),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.display,expression:"!display"}],staticClass:"withdrawDeposit"},[e("v-uni-view",{staticClass:"withdrawDeposit-title"},[e("v-uni-text",[t._v("请输入提现金额")])],1),e("v-uni-text",{staticClass:"abposin"},[t._v("￥")]),e("v-uni-view",{staticClass:"withdrawDeposit-box"},[e("v-uni-input",{attrs:{type:"digit",placeholder:"此处金额在100~10000间且每日提现不能超过三次"},model:{value:t.moneyTx,callback:function(i){t.moneyTx=i},expression:"moneyTx"}})],1),e("v-uni-view",{staticClass:"withdrawDeposit-text"},[e("v-uni-text",[t._v("请选择提现账户")])],1)],1),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.display,expression:"display"}],staticClass:"BopBox"},[e("v-uni-view",{staticClass:"informationBox"},[e("v-uni-view",{staticClass:"infor-title"},[e("v-uni-text",[t._v("支付宝账号:")])],1),e("v-uni-view",{staticClass:"infor-input"},[e("v-uni-input",{attrs:{type:"text",value:"",placeholder:t.ID},on:{input:function(i){i=t.$handleEvent(i),t.inpID(i)}}})],1)],1),e("v-uni-view",{staticClass:"informationBox"},[e("v-uni-view",{staticClass:"infor-title"},[e("v-uni-text",[t._v("真实姓名:")])],1),e("v-uni-view",{staticClass:"infor-input"},[e("v-uni-input",{attrs:{type:"text",value:"",placeholder:t.name},on:{input:function(i){i=t.$handleEvent(i),t.inpName(i)}}})],1)],1),e("v-uni-view",{staticClass:"affirmBut"},[e("v-uni-button",{attrs:{type:"primary"},on:{click:function(i){i=t.$handleEvent(i),t.next()}}},[t._v("确认")])],1)],1),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.display,expression:"!display"}],staticStyle:{float:"left"}},[e("v-uni-view",{staticClass:"payw"},[e("v-uni-image",{attrs:{src:"http://rs.eonfox.cc/clzy/static/ali_pay.png",mode:""}}),e("v-uni-text",{staticClass:"txt",on:{click:function(i){i=t.$handleEvent(i),t.popBox(i)}}},[t._v("支付宝")]),e("v-uni-label",{staticClass:"radio"},[e("v-uni-radio",{attrs:{value:"r1",checked:t.choice},on:{click:function(i){i=t.$handleEvent(i),t.xz("z")}}})],1)],1),e("v-uni-view",{staticClass:"pay"},[e("v-uni-image",{attrs:{src:"http://rs.eonfox.cc/clzy/static/wechat.png",mode:""}}),e("v-uni-text",{staticClass:"txt"},[t._v("微信")]),e("v-uni-label",{staticClass:"radio"},[e("v-uni-radio",{attrs:{value:"r2",checked:!t.choice},on:{click:function(i){i=t.$handleEvent(i),t.xz("w")}}})],1)],1)],1),e("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:!t.display,expression:"!display"}],staticClass:"confirm-btn",on:{click:function(i){i=t.$handleEvent(i),t.WithdrawBut(i)}}},[t._v("提现")])],1)},a=[];e.d(i,"a",function(){return n}),e.d(i,"b",function(){return a})},bae6:function(t,i,e){"use strict";e.r(i);var n=e("f2d9"),a=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);i["default"]=a.a},ce6d:function(t,i,e){"use strict";e.r(i);var n=e("9d1c"),a=e("bae6");for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);e("582d");var s=e("2877"),l=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"7e5287b3",null);i["default"]=l.exports},f2d9:function(t,i,e){"use strict";var n=e("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e("f499"));e("7f7f");n(e("6d58"));var o=n(e("d148")),s=n(e("c997")),l=new s.default,r={data:function(){return{money:"0.00",moneyTx:"",Sofar:"",code:"",openid:"",ID:"",name:"",choice:!0,display:!1,isAuth:!1}},onShow:function(){uni.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#ff5252",animation:{duration:400,timingFunc:"easeIn"}}),this.moneyQuery();var t=this;l.submit({request:{u:["USERSELFCONFIGALIPAY"],balance:["MERCHANTMONEYSELF"]},callback:function(i){console.log("用户支付宝信息",i);var e=o.default.checkError(i,"u",function(t,i){uni.showToast({title:i,icon:"none"})});e.balance&&(t.balance=e.balance),console.log("ulist.u",e.u.account),e.u.account&&(t.ID=e.u.account,t.name=e.u.realname,t.isAuth=!0),console.log("ID",t.ID),console.log("name",t.name)},error:function(t){console.log("出错啦",t)}})},methods:{goDetail:function(){uni.navigateTo({url:"../../pagesA/transactionDetail/transactionDetail?method=user_money_earning"})},payAli:function(){var t=this,i=100*t.moneyTx;l.submit({request:{s:["APPLICATIONORDERSELFUSERMONEYEARNINGWITHDRAW",[{money_fen:i,withdraw_method:"alipay",alipay_account:t.ID,alipay_realname:t.name}]]},callback:function(t){console.log(t);o.default.checkError(t,"s",function(t,i){uni.showToast({title:i,icon:"none"})});0==t.data.s.errno&&(uni.showToast({title:"提现成功"}),setTimeout(function(){uni.navigateBack({url:"../../pages/me/me"})},2e3))},error:function(t){o.default.err("调用提现错误",t,1)}}),this.moneyQuery()},addpayAli:function(){uni.navigateTo({url:"../../pagesA/addpayAli/addpayAli"})},payWx:function(){var t=this,i=100*t.moneyTx;console.log("提现金额",i),console.log("我的账户",t.money),console.log(i<=0,i>t.money),(i<=0||i>t.money||!/^\d+(\.\d+)?$/.test(i))&&uni.showToast({title:"提现金额错误",icon:"none"})},wxMp:function(){var t=this;wx.login({success:function(i){t.code=i.code,i.code?(console.log("发起网络请求"),t.tiXian()):(t.isDisable=!1,console.log("登录失败！"+i.errMsg),uni.showToast({title:"登录失败！"+i.errMsg,icon:"none"}))}})},wxApp:function(){var t=this;uni.login({provider:"weixin",success:function(i){console.log("loginres:",typeof i),"login:ok"==i.errMsg?uni.getUserInfo({provider:"weixin",success:function(i){console.log("info",(0,a.default)(i.userInfo));var e=i.userInfo.openId;t.tiXian(e)},fail:function(t){o.default.err("err",t,1)}}):o.default.err("err","err",1)},fail:function(t){o.default.err("err","login",1)}})},tiXian:function(t){var i=this,e=100*i.moneyTx;l.submit({request:{s:["APPLICATIONORDERSELFUSERMONEYEARNINGWITHDRAW",[{money_fen:e,comment:"赠送收益提现",withdraw_method:"weixinpay"}]]},callback:function(t){o.default.checkError(t,"s",function(t,i){o.default.err("err",i)});t.data.s&&t.data.s.data&&uni.showToast({title:"提现成功",success:function(){setTimeout(function(){uni.redirectTo({url:"../../pagesB/profit/profit"})},2e3)}}),console.log("tixian",t)},error:function(t){o.default.err("调用提现错误",t,1)}})},moneyQuery:function(){var t=this;l.submit({request:{s:["USERMONEYSELFEARNING"]},callback:function(i){console.log("我的预付款查询结果·",i);var e=o.default.checkError(i,"s",function(t,i){uni.showToast({title:i})});console.log("filter",e),e&&(t.money=e.s)},error:function(t){o.default.err("接口调用失败",t)}})},xz:function(t){var i=this;i.choice="z"==t},popBox:function(){var t=this;t.display=!t.display},inpID:function(t){var i=this;i.ID=t.detail.value},inpName:function(t){var i=this;i.name=t.detail.value},next:function(){var t=this;t.display=!t.display,l.submit({request:{u:["USERSELFCONFIGALIPAY",[{account:t.ID,realname:t.name}]]},callback:function(i){console.log("用户支付宝信息",i);var e=o.default.checkError(i,"u",function(t,i){uni.showToast({title:i,icon:"none"})});e.u&&uni.showToast({title:"保存成功",icon:"none",success:function(){t.isAuth=!0}})},error:function(t){console.log("出错啦",t)}})},WithdrawBut:function(){console.log("点击提现按钮");var t=this;t.moneyTx<100?o.default.err("提现金额必须大于等于100元"):t.choice?(console.log("提现支付宝",t.isAuth),""==t.ID?t.display=!t.display:uni.showModal({title:"提示",content:"你是否要提现"+t.moneyTx+"元到"+t.ID+"账号",success:function(i){i.confirm?t.payAli():i.cancel&&(t.display=!t.display)}})):(console.log("提现微信"),t.payWx())}}};i.default=r}}]);