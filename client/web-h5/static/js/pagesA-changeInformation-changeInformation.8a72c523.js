(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-changeInformation-changeInformation"],{1644:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"head-box"},[n("v-uni-view",{staticClass:"box-title"},[n("v-uni-text",[t._v("头像")])],1),n("v-uni-view",{staticClass:"box-inp",on:{click:function(e){e=t.$handleEvent(e),t.ModifyThePicture(e)}}},[n("v-uni-text",{staticStyle:{float:"right",color:"grey"}},[t._v("点击上传头像")]),n("v-uni-image",{staticStyle:{float:"right"},attrs:{src:t.headImg,mode:""}})],1)],1),n("v-uni-view",{staticClass:"head-box"},[n("v-uni-view",{staticClass:"box-title"},[n("v-uni-text",[t._v("昵称")])],1),n("v-uni-view",{staticClass:"box-inp"},[n("v-uni-input",{attrs:{type:"text",maxlength:"15",placeholder:t.userNmae},on:{input:function(e){e=t.$handleEvent(e),t.confirminput(e)}}})],1)],1),n("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){e=t.$handleEvent(e),t.next(e)}}},[t._v("提交修改")])],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},"1c2b":function(t,e,n){"use strict";var a=n("9807"),i=n.n(a);i.a},"34ad":function(t,e,n){"use strict";var a=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("c997")),o=a(n("d148")),u=new i.default,s={data:function(){return{userNmae:"",headImg:"../../static/user.png",imageID:"",address:""}},onLoad:function(){this.load()},methods:{confirminput:function(t){var e=this;e.userNmae=t.detail.value},next:function(t){var e=this;u.submit({request:{s:["USERSELFEDIT",[{user_nickname:e.userNmae}]]},callback:function(t){console.log("回调成功",t);o.default.checkError(t,["s"],function(t,e){});t.data.s&&uni.showToast({title:"修改成功",icon:"none",success:function(){setTimeout(function(){uni.navigateBack({delta:1})},3e3)}})},error:function(t){uni.showToast({title:"出错啦",icon:"none"})}})},load:function(){var t=this;u.submit({request:{u:["USERSELF"],config:["APPLICATIONCONFIG"]},callback:function(e){console.log("改变",e);var n=o.default.checkError(e,["u"],function(t,e){});n.config&&n.config.qiniu_domain&&(t.address=n.config.qiniu_domain),console.log("个人信息",e),""==e.data.u.data.user_nickname?t.userNmae="未设置，请输入昵称":e.data.u.data.user_nickname&&(t.userNmae=e.data.u.data.user_nickname),""!=e.data.u.data.user_logo_image_id?(t.imageID=e.data.u.data.user_logo_image_id,t.headImg=t.address+t.imageID+"?imageView2/1/w/160",console.log("头像图片",t.headImg)):""==e.data.u.data.user_logo_image_id&&(t.headImg="../../static/user.png",console.log("没有头像信息"))},error:function(t){uni.showToast({title:"出错啦",icon:"none"})}})},ModifyThePicture:function(){var t=this;uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(e){console.log("chooseImage success, temp path is",e.tempFilePaths[0]);var n=e.tempFilePaths[0];u.left_token(function(e){var a=u.api_server_url+"?"+encodeURI('data=[["USERSELFLOGOUPLOAD"]]')+"&token="+e;uni.uploadFile({url:a,filePath:n,fileType:"image",name:"file",success:function(e){console.log("上传成功:",e.data),uni.showToast({title:"上传成功",icon:"success",duration:1e3,success:function(){t.headImg=n}})},fail:function(t){console.log("uploadImage fail",t),uni.showModal({content:t.errMsg,showCancel:!1})}})})},fail:function(t){console.log("chooseImage fail",t)}})}}};e.default=s},"95ce":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".content[data-v-9bf32604]{width:94%;height:auto;margin-left:2%;font-size:15px}.head-box[data-v-9bf32604]{width:100%;height:60px;border-bottom:1px solid #e8e8e8 ;line-height:60px}.box-title[data-v-9bf32604]{width:30%;height:60px;line-height:60px;float:left}.box-inp[data-v-9bf32604]{width:50%;height:60px;line-height:60px;float:right;text-align:right}.box-inp uni-input[data-v-9bf32604]{float:left;width:100%;height:60px}uni-button[data-v-9bf32604]{margin-top:80px;background:#f76968;color:#fff}uni-image[data-v-9bf32604]{width:40px;height:40px;border-radius:50%;margin-top:10px}",""])},9807:function(t,e,n){var a=n("95ce");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("dfe7ff9c",a,!0,{sourceMap:!1,shadowMode:!1})},b41f:function(t,e,n){"use strict";n.r(e);var a=n("34ad"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a},bac0:function(t,e,n){"use strict";n.r(e);var a=n("1644"),i=n("b41f");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("1c2b");var u=n("2877"),s=Object(u["a"])(i["default"],a["a"],a["b"],!1,null,"9bf32604",null);e["default"]=s.exports}}]);