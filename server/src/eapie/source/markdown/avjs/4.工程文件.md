[TOC]
## 设置工程方法
```
av({
    //工程参数
});
```
## 工程参数
|   属性  |  名称 |  类型 |  描述 |
| --- | --- | --- | --- | 
|   id  |  工程标识 | String |  [不能继承] 每个工程都有一个标识，并且这个标识必须是全局唯一的，这样就可以使用av(id)来访问工程了 |
|   selector  | 渲染筛选器 | String/HTMLElement |  [能继承] 如果执行工程渲染，会将该工程渲染到该筛选器的节点上。如果不设置，那么将使用框架初始化的renderSelector公共配置 |
|   include | 引入文件 | Array |  [继承无意义] 在工程初始化的时候，会执行引入js/css文件。include 不能被继承，但是同样会被引入。比如引入文件是工程文件，而该引入的工程文件中又存在引入文件，则会继续引入，直到所有引入文件的引入文件都做完引入操作 |
|   extend | 继承工程 | Array |   [能继承] 继承父级工程的可继承工程参数，可以继承多个父工程，并且会继承父工程的父工程。注意，在继承父工程的时候一定要用include引入父工程文件 |
|   export | 导出文件 | Object |  [能继承] 在工程初始化的时候，会执行导出文件，同一个文件只会被导出一次，意思是将文件内容导出到变量中。export 会被继承，是继承父级的export中的属性  |
|   import | 导入文件 | Function |  [能继承] 在工程初始化的时候，会执行导入文件，其函数参数是与export参数有关的 ，意思是将已导出文件内容的变量传入导入函数中  |
|   template | 模板内容 | String |   [能继承] 渲染所要使用的模板字符串  |
|   main  | 入口函数 | Function |   [不能继承] 工程开始执行时，首先执行该函数。注意，该入口函数是不能被子级继承的  |
|   event | 工程事件 | Object |   [能继承] 详见行为事件与生命周期。event 会被继承，是继承父级的event中的属性  |
|   data | 渲染数据 | Object |   [能继承] 详见数据绑定。data 会被继承，是继承父级的data中的属性  |


## include 示例
```
av({
    id:"test",
    //["文件地址1","文件地址2","文件地址3",...]  可以是本地文件，也可以是远程文件
    include:["src/test.js","https://ss0.bdstatic.com/tam-ogel/5d4e9b24-dcc5-483a-b6da-be1e9e621891.js"],
});
```
还可以自定义引入到指定的节点中，并且可以在引入的时候使用回调函数进行个性化处理：
```
av({
    id:"test",
    //其中的callback、selector参数是非必填
    //selector是节点筛选器，如#id、.class、[attribute]等等
    include:["src/test.js",{file:"include/css/index.css", selector:"head", callback:function(ele){
			//这里个性化处理
                        //...
			ele.appendChild(this.element);//如果使用回调函数了，一定要进行添加到节点，不然不会继续执行
		}}],
});
```
## export 示例
```
av({
    id:"test",
    //{自定义标识:"文件地址"}  可以是本地文件，也可以是远程文件
    export : {tpl : "home.html",config:"src/config.json"},
});
```
## import 示例
import函数参数是与export参数有关的 ，意思是将已导出文件内容的变量传入导入函数中:
```
av({
    id:"test",
    //{自定义标识:"文件地址"}  可以是本地文件，也可以是远程文件
    export : {tpl : "home.html",config:"src/config.json"},
    import:function(e){
        //e.tpl    就是home.html文件的内容
        //e.config    就是src/config.json文件的内容
        //在这一步也是可以更新工程模板的
        this.template(e.tpl);
    }
});
```
## this 作用域
在event的属性、main、import中，this是当前工程对象：
```
av({
    id:"test",
    export : {tpl: "home.html",config:"src/config.json"},
    import : function(e){
        this.template(e.tpl);
        //这里的this 等同于 av("test")
    },
    main: function(e){
        //这里的this 等同于 av("test")
    },
    event: {
        //渲染开始触发
        renderStart:function(){
            //这里的this 等同于 av("test")
        }
    }
});
```
在data的函数属性中，this是当前工程的data对象：
```
av({
    id:"test",
    export: {tpl: "home.html",config:"src/config.json"},
    data: {
        value:"测试",
        dataTest:function(e){
            //这里的 this 等同于 av("test").data
            this.value = "更新值"
        }
    }
});
```

## 创建一个工程示例
```
//将工程对象参数传入av()方法中
av({
    id:'index',
    selector:'#content',
    include : ["action/public.js"], 
    extend : ["public"], 
    export : {template: "home.html",c : "action/config.json"},
    import : function(e){
        this.data.config = e.c;
        this.template(e.template);
    },
    event: {
         //错误事件
        error:function(err){
            console.log(err);
        }
    },
    data: {
        config:null,
    },
});
```