## 接口网址
开发接口地址：
`http://developer.eapie.eonfox.com/`
线上接口地址：
`http://eapie.eonfox.com/`

## GET请求
### query方式：
`http://softstore.applinzi.com/?data={"自定义键名称":[接口ID, [参数列表]], "自定义键名称2":[接口ID, [参数列表]]}&token=左令牌&type=返回的数据类型 `

>自定义键名称必须要加双引号。注意，data={这是一个json数据}。data只能是唯一键名称。参数列表是一个数组。
>type不写，默认“json”，即返回的数据是“Content-Type: application/json”

### path方式：
`http://softstore.applinzi.com/data/[接口ID]/[参数列表]/type/[返回的数据类型]/token/[左令牌]`

*可以多个data，如：*
`http://softstore.applinzi.com/data/[接口ID]/[参数列表]/type/[返回的数据类型]/token/[左令牌]/data/[项目名称2]/[方法名称2]/[参数列表2]`

## POST请求
### FormData
`data={"自定义键名称":[接口ID, [参数列表]], "自定义键名称2":[接口ID, [参数列表]]}&token=右令牌&type=返回的数据类型 `

### data参数优先级
相同参数下，重复的参数会被覆盖。
`POST > GET[query] > GET[path] `


### type返回的数据类型
type不写，默认“json”，即返回的数据类型是“Content-Type: application/json”

|值|返回的数据类型|
|:----  |----- |
|json |Content-Type: application/json |
|html |Content-Type: text/html |

### 关于应用ID
在初始化会话的时候，才带上应用ID

## 关于左令牌
左令牌的运用场景，GET请求、访问不需要返回数据的接口，比如快捷登陆。
等别注意，左令牌为了安全是不会主动返回“请求令牌”的。比如快捷登录错误信息、图片错误信息等。
当POST请求session为真，token是左令牌，那么就要返回 请求令牌。因为这是有可能会话初始化操作。如果左令牌合法，则不会初始化会话，但也会返回“请求令牌”。
必须是POST请求，如：
```
FormData：
token=左令牌&session=1&application/[应用ID值]	
```

## 关于右令牌
右令牌只要合法，则始终返回“请求令牌”。
当POST请求session为真，如果右令牌不合法，则初始化，并且返回 请求令牌。如果右令牌合法，则不会初始化会话。
必须是POST请求，如：
```
FormData：
token=右令牌&session=1&application/[应用ID值]	
```

## 临时访问
带上temp标签就是临时访问，临时访问的作用是不初始化会话，用于不需要会话权限的访问。

如下：``http://softstore.applinzi.com/index.php?data={"自定义键名称":[接口ID, [参数列表]], "自定义键名称2":[接口ID, [参数列表]]}&temp=1 `
又如：`http://softstore.applinzi.com/index.php/temp/data/[接口ID]`

## JavaScript请求示例
```
data = new FormData();
data.append("file", $('#portrait-file')[0].files[0]);//上传文件
data.append("data",'{"s":["SESSION", ["参数一","参数二"]]}');//data数据
data.append("token", "right6fbd1835c0c50828a63d888e9e0803cbb994745fc2a87ac2301542186770325869bf8c28d9925ef4cc87aa560f5f390");
data.append("type", "json");//默认也是json。即“Content-Type: application/json”
//提交数据
$.ajax({
	//上传文件必要参数
	processData: false,
	contentType: false,
	
	//@上传文件必要参数
	type: "post",
	async: false,//同步
	url: http://softstore.applinzi.com/,
	data: data,
	success: function(successData, textStatus, jqXHR){
		var json_object = (function(){try{ return jQuery.parseJSON(successData);}catch(e){return false;}}());
		//这里的json_object即js对象
	}
	
});
```

## 返回数据示例：

|键名称|始终存在|说明|
|:----    |:--- |-----   |
|errno |是  |错误码。1表示有错误，0表示无错误 |
|error |否，在errno为1的时候存在  |错误信息    |
|token |否，在右令牌请求、会话初始化的时候存在  |返回的是新的请求令牌    |
|data     |否，在data为0的时候存在  |接口返回的信息    |


>返回键有两层，第一层errno 是当请求全局返回键。第一层的data下的自定义键名称errno是接口返回键。

 **返回示例**

``` 
{
    //这是全局返回数据
    "errno": 0,
    "data": {
		//这是接口的自定义键返回数据
        "s": {
            "errno": 0,
            "data": {
                "session_id": "1677d57722a0ef757de3ad115f111adf3ecc6f7a73220f226a17ad2a6315421867701531",
                "session_found_time": "1542186770",
                "session_now_time": "1542251935",
                "session_expire_time": "1542255535",
                "session_left_token": "left6fbd1835c0c50828a63d888e9e0803cb41e13444f4d64631141542186770325869bf8c28d9925ef4cc87aa560f5f390",
                "session_right_token": "right2c80df53f67feaea157b1c3532df1621779749929333a3a5391542251935175baf222445324be6d8db5d4afeebcc4a",
                "user_id": "",
                "ip": "139.205.162.175",
                "session_browser": "电脑网页",
                "session_public": null
            }
        }
    },
    //这是返回的是请求令牌数据
    "token": {
        "session_found_time": "1542186770",//会话创建时间
        "session_now_time": "1542251935",//会话当前时间
        "session_expire_time": "1542255535",//会话失效时间
        "session_left_token": "left6fbd1835c0c50828a63d888e9e0803cb41e13444f4d64631141542186770325869bf8c28d9925ef4cc87aa560f5f390",//左令牌
        "session_right_token": "right2c80df53f67feaea157b1c3532df1621779749929333a3a5391542251935175baf222445324be6d8db5d4afeebcc4a"//右令牌
    }
}
```